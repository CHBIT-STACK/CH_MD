<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Session ID</title>
    <style>
        body { background: radial-gradient(circle, #2b0000, #000000); color: white; font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .container { background: rgba(40, 0, 0, 0.9); padding: 30px; border-radius: 15px; box-shadow: 0 0 20px #ff0000; text-align: center; border: 1px solid #ff4d4d; width: 320px; }
        h2 { color: #ff4d4d; margin-bottom: 20px; }
        input { width: 80%; padding: 10px; border-radius: 5px; border: none; margin-bottom: 15px; text-align: center; }
        .btn { background: linear-gradient(45deg, #8b0000, #ff0000); color: white; border: none; padding: 12px 25px; border-radius: 50px; cursor: pointer; font-weight: bold; text-decoration: none; display: inline-block; transition: 0.3s; }
        .btn:hover { transform: scale(1.05); box-shadow: 0 0 15px #ff0000; }
        #result { margin-top: 20px; font-weight: bold; color: #00ff00; font-size: 20px; letter-spacing: 2px; }
    </style>
</head>
<body>
    <div class="container">
        <h2>SESSION GENERATOR</h2>
        <p>Enter number with Country Code (e.g. 92300xxx)</p>
        <input type="number" id="number" placeholder="923xxxxxxxxx">
        <button onclick="getCode()" class="btn">GET PAIRING CODE</button>
        <div id="result"></div>
        <p style="font-size: 10px; margin-top: 20px; opacity: 0.5;">Note: Code will appear here. Enter it in WhatsApp Linked Devices.</p>
    </div>

    <script>
        async function getCode() {
            const num = document.getElementById('number').value;
            const resDiv = document.getElementById('result');
            if(!num) return alert("Please enter number!");
            resDiv.innerText = "Generating...";
            try {
                const response = await fetch('/code?number=' + num);
                const data = await response.json();
                resDiv.innerText = data.code || "Error! Try again.";
            } catch (err) { resDiv.innerText = "Server Error"; }
        }
    </script>
</body>
</html>
